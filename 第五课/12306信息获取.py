import requests

'''
获取要查询的火车信息
https://kyfw.12306.cn/otn/leftTicket/query?leftTicketDTO.train_date=2022-06-13&leftTicketDTO.from_station=BDP&leftTicketDTO.to_station=BJP&purpose_codes=ADULT
https://kyfw.12306.cn/otn/leftTicket/init?linktypeid=dc&fs=%E4%B8%8A%E6%B5%B7,SHH&ts=%E4%BF%9D%E5%AE%9A,BDP&date=2022-06-13&flag=N,N,Y
'''
url = 'https://kyfw.12306.cn/otn/leftTicket/query?leftTicketDTO.train_date=2022-06-13&leftTicketDTO.from_station=BDP&leftTicketDTO.to_station=BJP&purpose_codes=ADULT'
print('从保定到北京的火车信息')
# year=int(input('年：'))
# meth=int(input('月：'))
# day=int(input('日：'))
# train_date=f'{year}-{meth}-{day}'
header = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.0.0 Safari/537.36',
    'Cookie': '_uab_collina=165459015529822403567779; JSESSIONID=92C22121588F7DF5009AC257E585C04A; highContrastMode=defaltMode; guidesStatus=off; cursorStatus=off; _jc_save_wfdc_flag=dc; BIGipServerotn=854589962.50210.0000; RAIL_EXPIRATION=1655412068590; RAIL_DEVICEID=bqaIJAC3lNaWeLDWkaE_i8XZcNdD9aX9718jb2GzkBHEYxLRaDRfLwkLDDaZ_agX1bE5_xL9xCo92hJnJH5yNfky3J8jyqVba4m5oj03UqhkctR2UFnmvXls49WHKeaQ6x5q9w__FV6e3WoQ5-cfCUbCPTEkMin5; BIGipServerpool_passport=283378186.50215.0000; route=9036359bb8a8a461c164a04f8f50b252; _jc_save_fromDate=2022-06-13; _jc_save_toDate=2022-06-13; _jc_save_fromStation=%u4FDD%u5B9A%2CBDP; _jc_save_toStation=%u5317%u4EAC%2CBJP'
}
# data = {
#     'leftTicketDTO.train_date': '2022-06-13',
#     'leftTicketDTO.from_station': 'BDP',
#     'leftTicketDTO.to_station': 'BJP',
#     'purpose_codes': 'ADUL'
# }

response = requests.get(url, headers=header)
html=response.json()
# print(html['data']['result'])
for i in html['data']['result']:
    # print(22222222,i)
    temp_list=i.split('|')
    # print(temp_list)
    num=0
    # for x in temp_list:
        # print(num,x)
        # num+=1
    print(f'车次：{temp_list[3]},出发-到达时间：{temp_list[8]}-{temp_list[9]},历时；{temp_list[10]},商务座:{temp_list[32]},一等座：{temp_list[31]}，二等座：{temp_list[30]}')
'''
html = {'httpstatus': 200, 'data': {'result': [
    'Cxtlcq4eseLEHpHqNmm4ZlrkTAIAydRRLoW1%2BH0jekjlzggEg6a1MeldtKillGToUukPNgmoPmEN%0AwQZrWd7cxTGqkEalgZL3%2FSxkP7l7qchKCjxHFBpKI6mixE78ptQTpgd68fvCM5if%2FVCYSnToeogM%0AxrdrBkbqizQ1jKAai9wsQpNxRnTZZpXX%2Fq6LzzbbB47k5npJP%2FYX54a0bWhGE40AUW%2F7t0OjF8et%0AFiutKDRvA6AxdSuI%2FZcQl33q3MTfBeAzbthQ3nMM3zOJ8sJV99dHISETyszqAjIy%2FVQew4TA7sBQ%0AdfgiJgHd1PI%3D|预订|380000G68401|G684|JGF|BXP|BMP|BXP|15:51|16:33|00:42|Y|9%2FBDkzX8Vu2gQARvGkjhqyDXoa592X%2BRkI0rOh2KTeoesakq|20220613|3|F2|09|10|1|0|||||||||||有|17|2||O0M090|OM9|1|0||O006350021M0101500179020150002|0|||||1|0#0#0#0#z||7',
    'dkDB4xK8GBa1VQhQZZxT%2FBKg%2BnW%2BZ5wjNgw219c4dwBcEZJEx%2BEXjFBdTQ3216azJemhhJOF13U8%0AKr%2Br%2BsR%2BLe27GWlj92k1QouQVS3zEZjCFQNxxtOJJq6FMFHQKBKP3RL3kQo9efMdbOe%2FSBMjVtdN%0ACAIphIlrtkj4VwT4h8XzGDYcVjIuMcZJgne5LwIhqNLjSIOhw3iBolCyUwcEy106kY4lUZQa8wC2%0AB9r4SCPlKGOYN9R5Xe%2BwpXdaWRUPsvQ0jy4r8nbKtfziINqZ2I4GxvCA02cq%2BrfLSK3UC1M5GUL%2F%0AVz9xm2j1zS8%3D|预订|270000G6163D|G616|AJV|BXP|BMP|BXP|16:47|17:27|00:40|Y|cliSVgkacKlFxvSXtfcw%2Bja2VlV0SD6Vkpab2I69YbsMDFnp|20220613|3|V1|12|13|1|0|||||||||||有|2|5||O0M090|OM9|1|0||O006350021M0101500029020150005|0|||||1|#0#0#0#z||7',
    'eSu8%2Fa6%2BNWJG2rRrkqZuqfu52hXEEsS0YtFs5Vy6BsEbPO9Yywf89p3%2Ba84YaJEzvFxB5FJQmoHP%0AICbO86XIGKi1ddTatlKNa%2BFR9GJSM3ycJeIscfAnLqq3ad9sEmPfDoJAfbFjYWKhONFW88N8wilm%0AkZvzy8q3n8zHzzzmiNfRrb0zT7qQp%2BJJNJ%2FSugTfvrKxktTTOcF1INwjR15lbrvbT5JTdXbseViW%0ARYxJzkClYfMScpCrNaJbuLRMEeXCXrK0JUk6%2Bdr0D4zdD7s1Ovh0wVeWBUYfeGDlmG7tvZNde%2FAx%0A94e8Vr%2FHhw8%3D|预订|6i00000G720K|G72|NZQ|BXP|BMP|BXP|17:40|18:22|00:42|Y|vG1OoIYAFEL%2FdEg6ONxoWlyk%2BlD6j6n67sY8ONrw%2FH3CfC52|20220613|3|Q6|16|17|1|0|||||||||||有|有|20||90O0M0|9OM|1|0||9020150020O006350021M010150021|0|||||1|#1#0#0#z||7',
    'n8vbKwa3%2Bwdgod%2BIVs2r2k%2BoDL9WeSg5EHpNLtuyvU4pRe%2BrAmTulQZfmprYBFuCx1BcSMTJpY%2B0%0Ab2%2Fl7%2F2gx7G4rutHdSiddH%2B%2BNsay1D5quh90o2QRmvOs7B0nioXOIkh5%2FhmnKlrSQLyQlnSD2g%2FG%0An41BpyP5JToSWT2nU3y5fgRErEvJkpIVjBEII3HAMLo9r9qicxfsAt75wF5KHgCC4BtloXGTSXde%0AWC1zW7VvTm5XGVFYfonOQkZE6RVkZjMoguarOmSZgw3pbWMcNoX6Xv1Cu79p%2FgbUb67t1EjXePmL%0A61Hi4NaLmqmQk1f8qmNtWLCwvQ3V1xj%2F|预订|9300000Z7003|Z70|WAR|BXP|BDP|BXP|18:59|20:22|01:23|Y|MMiNyp%2FOe0kRbLqQWGmQq%2BjHsFJvTiEuEGNx6Q%2B%2FCnpuNxGYoF8BfyeAcruMuISXai9V45LVyVk%3D|20220612|3|R1|19|20|1|0||无||有|||无||有|有|||||30401060W0|34161|0|1||30069500214010450021100235002160185500001002353000|0|||||1|#0#0#0#z||7',
    'xuQcHJp4Hqf4eNRegA9wo8FoLGW1YrQin6rz1cOCjxmFCtzDicqcoj%2BATr%2BGVlkkElmxofP49DYY%0A%2FDVX0lP5opCx%2BlQn8JHrEFRl4wFDAo4v3wBpJVNXmIJK6r7WsE7F85FD%2FFG1lQOg37U4m5m%2BQJ07%0AwRzGyVYoGrkxdGNY9qERJ7siYVrgEBWr%2FhtQdRZmfuC8fJNZL1GPslacEE3VXh1u1Rkq4hMEIFYQ%0ACXzQrhBAtN2ukB1HWq7AHmCNj5o03c8cp2%2BvbqghcWx9Lm%2BRDRY1ZvMJZpsPbfoqlNYay%2FBfou3r%0AEfZFbvyL0ZkK2lEVOq4d%2FA%3D%3D|预订|630000K6000O|K600|GZQ|BTC|BDP|BXP|19:09|21:00|01:51|Y|IAVxPEa5bQVYyr7KbW2q8ezobetCaGE%2FRy3%2FbAEvHnqUAyjsAANFEThFsUE%3D|20220612|3|Q6|24|26|1|0||||无|||无||2|6|||||304010W0|3411|0|1||3006950002401045000010023500061002353000|0|||||1|#0#0#0#z||7',
    'J5hNA7SFSAmKXR7hvi5uKHHb4xnd9kzM25ahvRRRwO1BNa%2FEdphN9Ny5XGzoY03KOIenkCrank7K%0AbQtwtnH3eapeng%2BU8Jzu8UJK%2BWmKu3Ihijm0jeJc2cSTZO6PoJcOuBxJ5Mozgp7SyFAFPcKISkok%0Af9driXBR483w0dtmOpqkrRsyZt1DYZFbJnYEvhQGo90EUP1UTC2AK2CAn1eryzO%2FAdlW%2BPbZVQw2%0ACzXOv%2F9C%2BJ8fc4LpbaPIJqvi%2FNTvvPgXdJzX3sL07Qy0goPYysWSzBIFAyQysDHVmzWZEYQgzZU3%0A28el59yOtD8%3D|预订|270000G62837|G628|ABV|BXP|BMP|BXP|19:23|20:25|01:02|Y|BOn5n71ZYJkaSBOz8Ss5KxGh8IKRivBQ0VlYnVhrJQsAOgGe|20220613|3|V2|12|14|1|0|||||||||||有|有|18||O0M090|OM9|1|0||O006350021M0101500219020150018|0|||||1|#0#0#0#z||7',
    '%2Fr1ilMmrb9u2iNK%2BWSb0X7dvtrhQK2CdWpWLPcFAOZdcPCR6ex0HhqwBToRCxHNMhb7ANtK%2Fgcnn%0Asv6x%2B9%2BRHnEIC4vH0%2B5bzfwf4K01aRNZIg4gbdsNPiVxVZcAWezgKlO%2F2NpQz%2Bo4q6tcKReAgFUV%0AC0VpwnONSmtn4MXqY0AtfcFx%2FPlDM%2Bu4XwoMSeNxj734WUQXUUN%2ByrX1oE5Liti2t16%2B5IByqxyh%0ArUpVYQCKbqj7YrQNHs2YLWv%2FD7rgoPlgn%2Fg6rop7mqz%2FMFRQw2qCKo%2BdUCotPgenW2dDsdh8NfD5%0AN8QmOT%2Bl2tw%3D|预订|760000G3080G|G308|ICW|BXP|BMP|BXP|19:50|20:38|00:48|Y|CEjUhibEYDDd%2BSQv9VLDhkU7vPw0LrzKec4xf1c2s%2FiGe25k|20220613|3|W2|18|20|1|0|||||||||||有|11|6||O0M090|OM9|0|0||O006350021M0101500119020150006|0|||||1|#0#0#0#z||7',
    'SEXsdt5AjtOi6emoO3sWmAbfWKAgXhzJxeEEvf0Vp2hWsWEBmUghz65yPONEHh8G8mYTnDUgikbG%0AUObXEUO67zWb%2FqGMu7Z2kR3AuwYuOjXjGLX%2FfA%2BEG2C9bSt6xNR60D1VR8s%2FuGwkllvdktpi%2BP8c%0Amt5ahvfsbOP2PAaak4fmFX35a96rqxsgqVD5RAi9MuBRese8Dy3mLjSnzBOIDcqhGsth%2B9N7aZ%2BP%0AVyclMOoY9uiavDR31zBv6YduRL6Ir3pCiRcMBJ%2FnNRtiOmi7unESm0fzRq8%2Fk3UPgHCkwRJ77QeN%0AfDtUAX1pnJk%3D|预订|640000G68701|G690|JXA|BXP|BMP|BXP|19:55|20:48|00:53|Y|UAFwyww39aAW20%2BeJFtBNv2a%2FCbrYH5Gz1exS2ii%2FmXHHP95|20220613|3|Q7|19|21|1|0|||||||||||有|20|18||O0M090|OM9|0|0||O006350021M0101500209020150018|0|||||1|#1#0#0#z||7',
    'kjPObQ0E5P5QddsKpX67tTlKp2gyTjGeeFUwyKZ5Q%2BIi%2FfzX7aT2tEqvzR1ok7ezYCelWUX5srMH%0AaaWc%2FO%2Fp3oVbaK1jQvvIgEhTtkjzRXEv1SJA%2Fcgf5tiZFjaZgPsE0%2BATRJn7znVkA7T1%2FW%2BPtzOI%0A9pp%2Fa%2B4hilvxrkODFBXFipBnpX5mIAYcXXXWfqlr8T1R5rNkdZc8b1Tyz8FeEQoy%2B6arIJPovR20%0At75IEKirozg3pxiNhEx8sHnF0HOAJVVjVQ2Vmzr6W3IF23vPPGXXWlIzLVhLuZ77oUQjs5rru%2FAJ%0AtGwJfLT5zTpNRjs%2B|预订|53000G159202|G1592|BNU|BXP|BMP|BXP|20:02|20:43|00:41|Y|LOS31Q%2BBc%2Bgl9l9zaiLgsTPzF232Z0pbUAWw3wRxmdIptArS|20220613|3|H6|08|09|1|0|||||||||||有|有|10||O0M090|OM9|0|0||O006350021M0101500219020150010|0|||||1|0#1#0#0#z||7',
    'GLD2RVfmzg55hn9V%2Bf1UiHNFp85jddSw5MuA30IBTNv8LLhX433b%2BqANm68%2BtJfiZv8hOemM9%2FY4%0AlFa3fmUCPoesZnLzYPN3YOmuRXfpp3AuF8p2kCa9Zz2xSbARI19K6sYtgOGOkUFStscbPd5Gv%2BRn%0Aqrl%2BzX0nrizICXYF%2FMRXa6Kq36RWofPbuhTrQueiUH2rEVeui4Xiz6dkaJrztUq19V7qMhUe3MUp%0AJq3Z3ZpMZHKeKcemzbFMxJ4jl0WM164XmtdcHxgA%2FKP5T1Bex0KGpFAL8eF40uNQtP4el8p%2FMcqi%0AGT%2FlRbywOd8%3D|预订|570000G48608|G486|GOG|BXP|BMP|BXP|20:38|21:26|00:48|Y|vKSOuXASfjJYC62y73FjDt2far9giC%2Bp7C%2FDAUtEHVDa9gtu|20220613|3|G1|20|22|1|0|||||||||||有|有|13||O0M090|OM9|0|0||O006350021M0101500219020150013|0|||||1|0#1#0#0#z||7',
    'MkmSOQk7941t9akRzg7rWP4JDo%2BVt%2BqInrNvIxr4UkZgw7Z5yo9KRsmLMNaYTJdNtrk%2FalbDK6sF%0AWT4lf8dpTLEX%2F0x3wW34LwKg0LCvYh2wx0HqKkJLEkNjECl4DeTKBOv4LcR%2BZksWBn7ehgDRtEfi%0AEUmFsVMmUx1ft6tKRviUvBgYP0cgxvz3%2FceNlfQVwy7XsdgHjGoQ6QJm3YZTHoBbMAZqj3X72gZG%0AEfpsfDgjzSQshaTvJlEqrDa51funjiohMDN4PEmOa9yjbtEpjehQ2cBmlSlLKsKGFCEfPtpSNY99%0APCKFmbdoWnY%3D|预订|640000G47910|G482|JDA|BXP|BMP|BXP|21:18|21:59|00:41|Y|VSnH6JMbT3x2hMn2n%2BxD7dCZHjQcY9xBAw2JMriTxrtW9RSW|20220613|3|Q7|19|20|1|0|||||||||||有|有|10||M0O090|MO9|0|0||M010150021O0063500219020150010|0|||||1|0#1#0#0#z||7',
    'NE9o%2FLQHI2J2hYdefSq8FR%2FjuE9ykNjiE9nDHANw4YpgXkra8EvgI%2B%2FYkvBTN3hLLuu14rPePanH%0AexmijXSffXZkk8%2Fd18X1CGlTsgrbVMp0yT8x2qycGxTRdvFZYfyRyhFtx%2FZGJK%2BLsQLMj18rNvQn%0Ag%2FVA9zooKZKIuLYKQ%2F3MZ37%2FLUkLp3DT3v%2BN9DSEswoqsZjGENVhwjrYwmrICr5qtX%2FUFxuHNGPU%0AG0pyPkDu7cARPjArSaFNDTUx6Eu031QJ5FO9crEZdL3%2FBdUoSnArUHWQWq87LyFieTsPJgzbfNKf%0ADtq1H3vRyRk%3D|预订|6c00000G700F|G70|IZQ|BXP|BMP|BXP|21:38|22:27|00:49|Y|4BuQnrt420j4txsv4PnhGrhcVdUdxEwqvIbTmr%2BCG4yhsZUM|20220613|3|Q7|14|16|1|0|||||||||||有|有|6||O0M090|OM9|0|0||O006350021M0101500219020150006|0|||||1|#1#0#0#z||7'],
    'flag': '1', 'map': {'BMP': '保定东', 'BXP': '北京西', 'BDP': '保定'}}, 'messages': '',
        'status': True}
'''
